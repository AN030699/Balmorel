* Import results Juan Gea Berm√∫dez 2019.

$ifi %ADDTECHDEV%==yes  GKFX(YYY,AAA,GGG)=0;
$ifi %ADDTECHDEV%==yes  GKFX(Y,IA,G)=GKACCUMNET(Y,IA,G);
$ifi %ADDTRANSDEV%==yes XKFX(YYY,IRRRE,IRRRI)=0;
$ifi %ADDTRANSDEV%==yes XKFX(Y,IRE,IRI)=XKACCUMNET(Y,IRE,IRI);
$ifi %ADDHEATTRANSDEV%==yes XHKFX(YYY,IAAAE,IAAAI)=0;
$ifi %ADDHEATTRANSDEV%==yes XHKFX(Y,IAE,IAI)=XHKACCUMNET(Y,IAE,IAI);
$ifi %ADDHSTOVOLTS%==none  HSTOVOLTS(Y,IA,IGHSTOS,S,T)=0;
$ifi %ADDESTOVOLTS%==none  ESTOVOLTS(Y,IA,IGESTOS,S,T)=0;
$ifi %ADDHSTOVOLT%==none  HSTOVOLT(Y,IA,IGHSTO,S,T)=0;
$ifi %ADDESTOVOLT%==none  ESTOVOLT(Y,IA,IGESTO,S,T)=0;
$ifi %HYRSBB123%==none  VHYRS_SL(Y,IA,S)=0;


$ifi not %ADDBACKUPGEN%==yes  $goto NO_BACKUPGEN
LOOP(Y,
   LOOP(C,
      LOOP(IR$CCCRRR(C,IR),
         ILOOPBREAK=0;
         LOOP(IA$ICA(C,IA),
            IF ((SUM(DEUSER,DE(Y,IR,DEUSER)) AND ILOOPBREAK=0),
               ILOOPBREAK=1;
               GKFX(Y,IA,G)$(GDATA(G,'GDTECHGROUP') EQ BACKUP_ELECTRICITY)=SUM(DEUSER,DE(Y,IR,DEUSER))/IOF8760*2;
            );
            IF (SUM(DHUSER,DH(Y,IA,DHUSER)),
               GKFX(Y,IA,G)$(GDATA(G,'GDTECHGROUP') EQ BACKUP_HEAT)=SUM(DHUSER,DH(Y,IA,DHUSER))/IOF8760*2;
            );
         );
      );
   );
);


GOMVCOSTO(IA,G)$(GDATA(G,'GDTECHGROUP') EQ BACKUP_ELECTRICITY AND SUM(Y,GKFX(Y,IA,G))) = GDATA(G,'GDOMVCOST0');
GOMVCOSTO(IA,G)$(GDATA(G,'GDTECHGROUP') EQ BACKUP_HEAT AND SUM(Y,GKFX(Y,IA,G))) = GDATA(G,'GDOMVCOST0');
$label NO_BACKUPGEN
